(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(17),a=n(3),i=n(2),r=n(16),u=n.n(r),o=n(0),s=function(e){var t=e.textFilter,n=e.handleChangeFilter;return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{children:["filter show with: ",Object(o.jsx)("input",{type:"text",onChange:n,value:t})]})})},d=function(e){var t=e.name,n=e.phone,c=e.handleChangeName,a=e.handleChangePhone,i=e.handleSubmit;return Object(o.jsxs)("form",{onSubmit:i,children:[Object(o.jsxs)("div",{children:["name: ",Object(o.jsx)("input",{type:"text",onChange:c,value:t})]}),Object(o.jsxs)("div",{children:["phone: ",Object(o.jsx)("input",{type:"text",onChange:a,value:n})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){var t=e.id,n=e.name,c=e.number,a=e.handleDelete;return Object(o.jsx)("div",{children:Object(o.jsxs)("p",{children:[n," ",c," ",Object(o.jsx)("button",{onClick:function(e){a(t,n,e)},children:"Delete"})]})})},h=function(e){var t=e.persons,n=e.textFilter,c=e.handleDelete;return Object(o.jsx)("div",{children:t.filter((function(e){return""===n||e.name.includes(n)})).map((function(e){return Object(o.jsx)(l,{id:e.id,name:e.name,number:e.number,handleDelete:c},e.id)}))})},j=n(5),b=n.n(j),f="/api/persons",m=function(e){var t=e.notification;return null===t?null:Object(o.jsx)("div",{className:"message ".concat(t.type),children:t.message})},O=(n(41),function(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],u=Object(i.useState)(""),l=Object(a.a)(u,2),j=l[0],O=l[1],p=Object(i.useState)(""),x=Object(a.a)(p,2),v=x[0],g=x[1],y=Object(i.useState)(""),w=Object(a.a)(y,2),C=w[0],S=w[1],D=Object(i.useState)(null),F=Object(a.a)(D,2),k=F[0],N=F[1];Object(i.useEffect)((function(){b.a.get(f).then((function(e){return e.data})).then((function(e){r(e)}))}),[]);return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Phonebook"}),Object(o.jsx)(m,{notification:k}),Object(o.jsx)(s,{textFilter:C,handleChangeFilter:function(e){S(e.target.value),N(null)}}),Object(o.jsx)("h2",{children:"add a new"}),Object(o.jsx)(d,{name:j,phone:v,handleChangeName:function(e){O(e.target.value)},handleChangePhone:function(e){g(e.target.value)},handleSubmit:function(e){if(e.preventDefault(),""!==j.trim()){var t=n.find((function(e){return e.name===j.trim()})),a={name:j.trim(),number:v.trim(),id:0};"undefined"!==typeof t?window.confirm("".concat(t.name," is already added to phonebook, replace the old number with a new one?"))&&function(e,t){return b.a.put("".concat(f,"/").concat(e),t).then((function(e){return e.data}))}(t.id,a).then((function(e){r(n.map((function(n){return n.id!==t.id?n:e}))),N({type:"success",message:"Updated ".concat(e.name)})})):function(e){return b.a.post(f,e).then((function(e){return e.data}))}(a).then((function(e){r([].concat(Object(c.a)(n),[e])),N({type:"success",message:"Added ".concat(e.name)}),O(""),g("")}))}else alert("The name is required")}}),Object(o.jsx)("h2",{children:"Numbers"}),Object(o.jsx)(h,{persons:n,textFilter:C,handleDelete:function(e,t,c){window.confirm("delete ".concat(t,"?"))&&function(e){return b.a.delete("".concat(f,"/").concat(e))}(e).then((function(c){var a=n.filter((function(t){return t.id!==e}));r(a),N({type:"success",message:"Deleted ".concat(t)})})).catch((function(e){N({type:"error",message:"The information ".concat(t," has already been removed from server")})}))}})]})});u.a.render(Object(o.jsx)(O,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.636c1c07.chunk.js.map